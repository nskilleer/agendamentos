{"level":"error","message":"Erro detectado na aplicação: Invalid status code: true. Status code must be an integer.","method":"GET","path":"/api/agendamentos/hoje","stack":"TypeError: Invalid status code: true. Status code must be an integer.\n    at ServerResponse.status (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\express\\lib\\response.js:65:11)\n    at renderError (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\utils\\helpers.js:28:16)\n    at getAgendamentosHoje (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\controles\\appointmentController.js:166:20)\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\middlewares\\authMiddleware.js:24:9\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\route.js:157:13)\n    at requireAuth (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\middlewares\\authMiddleware.js:12:9)\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)","timestamp":"2025-08-07 00:02:12"}
{"level":"error","message":"Erro detectado na aplicação: Invalid status code: true. Status code must be an integer.","method":"GET","path":"/api/agendamentos/hoje","stack":"TypeError: Invalid status code: true. Status code must be an integer.\n    at ServerResponse.status (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\express\\lib\\response.js:65:11)\n    at renderError (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\utils\\helpers.js:28:16)\n    at getAgendamentosHoje (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\controles\\appointmentController.js:166:20)\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\middlewares\\authMiddleware.js:24:9\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\route.js:157:13)\n    at requireAuth (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\middlewares\\authMiddleware.js:12:9)\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)","timestamp":"2025-08-07 00:02:28"}
{"level":"error","message":"Erro detectado na aplicação: Invalid status code: true. Status code must be an integer.","method":"GET","path":"/api/agendamentos/hoje","stack":"TypeError: Invalid status code: true. Status code must be an integer.\n    at ServerResponse.status (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\express\\lib\\response.js:65:11)\n    at renderError (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\utils\\helpers.js:28:16)\n    at getAgendamentosHoje (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\controles\\appointmentController.js:166:20)\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\middlewares\\authMiddleware.js:24:9\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\route.js:157:13)\n    at requireAuth (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\middlewares\\authMiddleware.js:12:9)\n    at Layer.handleRequest (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\router\\lib\\layer.js:152:17)","timestamp":"2025-08-07 02:13:54"}
{"_message":"Appointment validation failed","errors":{"userId":{"kind":"required","message":"Path `userId` is required.","name":"ValidatorError","path":"userId","properties":{"message":"Path `userId` is required.","path":"userId","type":"required"}}},"level":"error","message":"Erro ao criar agendamento: Appointment validation failed: userId: Path `userId` is required.","stack":"ValidationError: Appointment validation failed: userId: Path `userId` is required.\n    at Document.invalidate (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\mongoose\\lib\\document.js:3358:32)\n    at C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\mongoose\\lib\\document.js:3119:17\n    at C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\node_modules\\mongoose\\lib\\schemaType.js:1410:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-08-07 14:26:04"}
{"level":"error","message":"Erro ao obter horários disponíveis: minServiceDuration is not defined","stack":"ReferenceError: minServiceDuration is not defined\n    at getHorariosDisponiveis (C:\\Users\\natha\\OneDrive\\Área de Trabalho\\AREA DE TRABALHO\\agendamento\\controles\\scheduleController.js:198:65)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-08-07 15:26:31"}
